
<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
        <script src="content/jquery/jquery-3.5.1.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
       
    </head>
    <body>
        <div class="form-group">
            <label>choose Image</label>
            <input id="ImageUrl" class="form-control" name="ImageUrl" type="hidden" />
            <input id="ThumbUrl" class="form-control" name="ThumbUrl" type="hidden" />
            <input id="imageupload"  class="form-control" name="Image" type="file" />
        </div>
        <div class="form-group">
            <img src="" class="img-fluid" id="stdImage" alt="Responsive image">
        </div>
        <script>
        $("#imageupload").change(function () {
        imageUpload(this);
    });
function imageUpload(element)
{  
    debugger
    var formdata = new FormData();
    var totalfiles = element.files.length;
//   for (var i = 0; i < totalfiles; i++) {
//     var file = element.files[i];
//     formdata.append("Imagepathsave", file);
  //}
    var file = element.files[0];
    formdata.append("Imagepathsave", file);
    $.ajax({
        type: 'post',
        url: "http://localhost:54401/api/ImagePathSave/",
        data: formdata,
        dataType: 'json',
        contentType: false,
        processData:false
    })
   .done(function (response) {
       debugger;
       console.log(response);
       if(response.Message=="Success")
       {
      $("#stdImage").attr("src", response.RealPath);
      $("#ImageUrl").val(response.RealPath);
      $("#ThumbUrl").val(response.ThumbPath);
     }else{
         alert("No file is Choosed")
     }
   })
   .fail(function (XMLHttpRequeat, textStatus, errorThrown) {
       alert("fail")
   });
}s
        </script>
    </body>
    
</html>
